![[Pasted image 20250204112955.png]]

- 추가 고려사항에 대한 attribute는 기능 구현 완성 후 추가한다.
    
    - MongoDB는 attribute 수정에 유연하다.
- 1:1 채팅의 경우 별도의 채팅방 테이블을 만들 필요는 없다.
    
    - 만들게 될 경우 RDB(MySQL)에 저장
    - 추후 필요하게 되면 설정하면 될듯

---

JPA의 `@Entity` 대신 Spring Data MongoDB의 `@Document`를 사용하여 컬렉션 타입으로 지정한다.

```java
@Document(collection = "message")  // collection = "실제 mongoDB 내 컬렉션 이름")
@Getter
@Builder
@NoArgsConstructor(access = AccessLevel.PROTECTED)
@AllArgsConstructor
public class Message {

    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;
    
    private Long senderId;   // 메세지를 보낸 사람
    
    private Long receiverId;   // 메세지를 받은 사람

    private String content;   // 메세지 내용
    
    @CreatedDate
    private LocalDateTime createdAt;
    
}
```



#### 참고자료

- 키-값 저장소 설계 [https://azderica.github.io/til/docs/dev/system-design-interview/ch6](https://azderica.github.io/til/docs/dev/system-design-interview/ch6)
    
- WebSocket으로 채팅 구현하기(+MongoDB 사용하기) :이건 Node.js로 구현 [https://princesskiji.tistory.com/155](https://princesskiji.tistory.com/155)
    
- MongoDB, Springboot로 채팅 구현 [https://khdscor.tistory.com/115](https://khdscor.tistory.com/115)
    
- [https://velog.io/@gds0813/spring-boot로-11채팅-구현하기웹소켓-3](https://velog.io/@gds0813/spring-boot%EB%A1%9C-11%EC%B1%84%ED%8C%85-%EA%B5%AC%ED%98%84%ED%95%98%EA%B8%B0%EC%9B%B9%EC%86%8C%EC%BC%93-3)
    
- [https://jaeseo0519.tistory.com/410#4. 데이터 모델-1](https://jaeseo0519.tistory.com/410#4.%20%EB%8D%B0%EC%9D%B4%ED%84%B0%20%EB%AA%A8%EB%8D%B8-1)
    
- [https://c3epmos.tistory.com/85](https://c3epmos.tistory.com/85)